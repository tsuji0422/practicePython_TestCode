# 実行環境の作成

Windows向けの情報になる。
いつか`poetry`で解説したいけど、今回は`venv`で解説する。
VSCodeを使ってローカルで実行環境を用意するシナリオ。Anacondaは使わないでpipを使う。

## Python実行環境

[Visual Studio Code でPython入門 【Windows編】](https://www.python.jp/python_vscode/windows/index.html)

上記の記事を参考に実行環境を用意する。もしPythonのバージョン管理がしたくなったら、[pyenv-win](https://github.com/pyenv-win/pyenv-win)の導入を検討してもいいと思うが、基本的にはいらない。

## 仮想環境の用意

<details>
<summary>仮想環境を用意する理由</summary>

Pythonは様々なライブラリが豊富で、それらを使って開発ができるのが特徴だ。反面、それらのバージョンや依存関係を管理をしないと、うまく動かなくなる。
`pip`などのパッケージ管理ソフトはそれらの依存関係やバージョンをいい感じに管理してくれる。

しかしながら、プロジェクトによって使われるライブラリのバージョンが異なると、作業中に別プロジェクトの作業に移ると、プロジェクト間のバージョンの違いでコードが動かなくなる。そこでプロジェクトごとに仮想環境を用意して、プロジェクトごとにライブラリとそのバージョンを管理しようというのが仮想環境を用意する理由だ。

---

</details>

ここまでの説明で仮想環境を用意する理由について理解できたと思うので、ここから仮想環境の作成方法について説明する。

プロジェクトをクローンしたら、VSCodeでプロジェクトを開き、ターミナルで次を実行

    python -m venv .venv
    .\.venv\Scripts\Activate.ps1

ターミナルの先頭に`(.venv)`が付いていれば仮想環境に入れている。この状態で`pip`コマンドを使ってライブラリを導入すればよい。
このプロジェクトに必要なライブラリは`requirements.txt`に入れてあるので、それを参照させてインストールさせる。

    pip install -r requirements.txt

一部のライブラリにはC++のライブラリが必要で「VisualStudioのツールを入れろ」とか言われると思うが、人の環境によってエラーが出たり、出なかったりする。その辺は各自エラー内容を検索、翻訳して何をしたらいいか確認してみてくれ。

## テストの実行

今回はテストに`pytest`を採用した。

    pytest tests

上記をコマンドラインで打つとテストが実行できる。

